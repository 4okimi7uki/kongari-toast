<!DOCTYPE html>
<html lang="ja">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Document</title>
        <meta name="theme-color" content="#06c1db" />
        <style>
            * {
                margin: 0;
                padding: 0;
                box-sizing: border-box;
                text-decoration: none;
                list-style: none;
            }
            .container {
                width: 100%;
                height: 100svh;
                border: solid #333 1px;
                background: #eee;
                position: relative;
                display: flex;
                align-items: center;
                justify-content: center;
                gap: 20px;
            }
            button {
                padding: 5px 15px;
                font-size: 22px;
            }
        </style>
        <link rel="stylesheet" href="toast.css" />
    </head>
    <body>
        <div class="container">
            <button id="defaultBtn">default</button>
            <button id="showBtn">success</button>
            <button id="errorBtn">error</button>
            <button id="infoBtn">info</button>
            <button id="promiseBtn">promise</button>
        </div>

        <script type="module" src="./dist/toast.js"></script>
        <script type="module">
            import { Toast } from "./dist/toast.js";

            function fetchApi() {
                return new Promise((resolve, reject) => {
                    setTimeout(() => {
                        // resolve("ok");
                        reject("ng");
                    }, 2000);
                });
            }
            console.log(fetchApi());

            const buttons = document.querySelectorAll("button");
            console.log(buttons);
            [...buttons].map((item) => {
                item.addEventListener("click", () => {
                    if (item.textContent === "promise") {
                        Toast.promise(
                            fetchApi(),
                            {
                                loading: "loading...",
                                success: "success!!!",
                                error: "error!",
                            },
                            { position: "top-right" }
                        );
                        Toast.promise(
                            fetchApi(),
                            {
                                loading: "loading...",
                                success: "success!!!",
                                error: "error!",
                            },
                            { position: "top-left" }
                        );
                        Toast.promise(
                            fetchApi(),
                            {
                                loading: "loading...",
                                success: "success!!!",
                                error: "error!",
                            },
                            { position: "bottom-right" }
                        );
                        Toast.promise(
                            fetchApi(),
                            {
                                loading: "loading...",
                                success: "success!!!",
                                error: "error!",
                            },
                            { position: "bottom-left" }
                        );
                    } else {
                        new Toast(item.textContent, item.textContent, { position: "top-right" });
                        new Toast(item.textContent, item.textContent, { position: "top-left" });
                        new Toast(item.textContent, item.textContent, { position: "bottom-right" });
                        new Toast(item.textContent, item.textContent, { position: "bottom-left" });
                        // new Toast("aaaa", "info", { withoutMsg: true });
                    }
                });
            });
        </script>
    </body>
</html>
